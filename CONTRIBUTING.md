# Contributing to Simple Audio Programming
# Simple Audio Programming ã¸ã®è²¢çŒ®

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¸ã®è²¢çŒ®ã‚’ã”æ¤œè¨ã„ãŸã ãã€ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼

## ğŸ¯ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç›®æ¨™

ã“ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯**éŸ³éŸ¿ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°åˆå¿ƒè€…ã®æ•™è‚²**ã‚’ç›®çš„ã¨ã—ã¦ã„ã¾ã™ï¼š

- **ç†è§£ã—ã‚„ã™ã„ã‚³ãƒ¼ãƒ‰**: å­¦ç”ŸãŒèª­ã‚“ã§ç†è§£ã§ãã‚‹å®Ÿè£…
- **æ•™è‚²çš„ä¾¡å€¤**: ç†è«–ã¨å®Ÿè£…ã®æ©‹æ¸¡ã—
- **æ®µéšçš„å­¦ç¿’**: åŸºæœ¬ã‹ã‚‰å¿œç”¨ã¾ã§è‡ªç„¶ãªå­¦ç¿’æ›²ç·š

## ğŸ¤ è²¢çŒ®ã®æ–¹æ³•

### 1. Issue ã®å ±å‘Š

ãƒã‚°å ±å‘Šã‚„æ©Ÿèƒ½è¦æ±‚ã¯ [Issues](https://github.com/ggszk/simple-audio-programming/issues) ã§ãŠé¡˜ã„ã—ã¾ã™ã€‚

**ãƒã‚°å ±å‘Šæ™‚ã«å«ã‚ã¦ãã ã•ã„ï¼š**
- ä½¿ç”¨ã—ã¦ã„ã‚‹ Python ãƒãƒ¼ã‚¸ãƒ§ãƒ³
- å†ç¾æ‰‹é †
- æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œã¨å®Ÿéš›ã®å‹•ä½œ
- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆã‚‚ã—ã‚ã‚Œã°ï¼‰

### 2. ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆ

1. ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒ•ã‚©ãƒ¼ã‚¯
2. ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ: `git checkout -b feature/amazing-feature`
3. å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ: `git commit -m 'Add some amazing feature'`
4. ãƒ–ãƒ©ãƒ³ãƒã«ãƒ—ãƒƒã‚·ãƒ¥: `git push origin feature/amazing-feature`
5. ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆ

## ğŸ“ ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„

### åŸºæœ¬åŸå‰‡
- **æ•™è‚²æ€§ã‚’å„ªå…ˆ**: é«˜åº¦ãªæœ€é©åŒ–ã‚ˆã‚Šã‚‚ç†è§£ã—ã‚„ã™ã•ã‚’é‡è¦–
- **æ—¥æœ¬èªã‚³ãƒ¡ãƒ³ãƒˆ**: æ•™è‚²ç›®çš„ã®ãŸã‚ã€ã‚³ãƒ¡ãƒ³ãƒˆã¯æ—¥æœ¬èªã§è¨˜è¿°
- **å‹ãƒ’ãƒ³ãƒˆ**: é–¢æ•°ã®å¼•æ•°ã¨æˆ»ã‚Šå€¤ã«ã¯å‹ãƒ’ãƒ³ãƒˆã‚’ä½¿ç”¨

### ã‚³ãƒ¼ãƒ‰ã‚¹ã‚¿ã‚¤ãƒ«
```python
def generate_sine_wave(frequency: float, duration: float, sample_rate: int = 44100) -> np.ndarray:
    """
    ã‚µã‚¤ãƒ³æ³¢ã‚’ç”Ÿæˆã™ã‚‹é–¢æ•°
    
    Args:
        frequency: å‘¨æ³¢æ•° (Hz)
        duration: ç¶™ç¶šæ™‚é–“ (ç§’)
        sample_rate: ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ãƒ¬ãƒ¼ãƒˆ (Hz)
    
    Returns:
        ç”Ÿæˆã•ã‚ŒãŸã‚µã‚¤ãƒ³æ³¢ã®ã‚µãƒ³ãƒ—ãƒ«é…åˆ—
    """
    # æ™‚é–“è»¸ã®ä½œæˆ
    t = np.linspace(0, duration, int(sample_rate * duration), False)
    
    # ã‚µã‚¤ãƒ³æ³¢ã®è¨ˆç®—: y = A * sin(2Ï€ * f * t)
    wave = np.sin(2 * np.pi * frequency * t)
    
    return wave
```

### å‘½åè¦å‰‡
- **é–¢æ•°å**: å‹•è©ã‹ã‚‰å§‹ã‚ã‚‹ (`generate_`, `apply_`, `calculate_`)
- **ã‚¯ãƒ©ã‚¹å**: åè©ã§ã€ã‚ã‹ã‚Šã‚„ã™ã„åå‰ (`SineWave`, `ADSREnvelope`)
- **å¤‰æ•°å**: éŸ³éŸ¿å·¥å­¦ã®æ…£ä¾‹ã«å¾“ã† (`sample_rate`, `frequency`, `amplitude`)

## ğŸ§ª ãƒ†ã‚¹ãƒˆ

æ–°ã—ã„æ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹éš›ã¯ã€ãƒ†ã‚¹ãƒˆã‚‚ä½µã›ã¦ä½œæˆã—ã¦ãã ã•ã„ï¼š

```bash
# ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ
pytest tests/

# ã‚«ãƒãƒ¬ãƒƒã‚¸ä»˜ããƒ†ã‚¹ãƒˆ
pytest --cov=audio_lib tests/
```

### ãƒ†ã‚¹ãƒˆã®ä¾‹
```python
def test_sine_wave_generation():
    """ã‚µã‚¤ãƒ³æ³¢ç”Ÿæˆã®ãƒ†ã‚¹ãƒˆ"""
    oscillator = SineWave()
    signal = oscillator.generate(frequency=440.0, duration=1.0)
    
    # æœŸå¾…ã•ã‚Œã‚‹é•·ã•
    expected_length = int(44100 * 1.0)
    assert len(signal) == expected_length
    
    # æŒ¯å¹…ã®ç¯„å›²ãƒã‚§ãƒƒã‚¯
    assert -1.0 <= signal.min() <= signal.max() <= 1.0
```

## ğŸ“š ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

### Docstring ã®æ›¸ãæ–¹
```python
def apply_filter(signal: np.ndarray, cutoff_freq: float, filter_type: str = "lowpass") -> np.ndarray:
    """
    ä¿¡å·ã«ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚’é©ç”¨ã™ã‚‹
    
    Args:
        signal: å…¥åŠ›ä¿¡å·
        cutoff_freq: ã‚«ãƒƒãƒˆã‚ªãƒ•å‘¨æ³¢æ•° (Hz)
        filter_type: ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚¿ã‚¤ãƒ— ("lowpass", "highpass", "bandpass")
    
    Returns:
        ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼é©ç”¨å¾Œã®ä¿¡å·
        
    Raises:
        ValueError: ä¸æ­£ãªfilter_typeãŒæŒ‡å®šã•ã‚ŒãŸå ´åˆ
        
    Example:
        >>> signal = generate_sine_wave(440, 1.0)
        >>> filtered = apply_filter(signal, 1000, "lowpass")
    """
```

## ğŸ“ æ•™è‚²çš„é…æ…®

### ã‚³ãƒ¡ãƒ³ãƒˆã®æ›¸ãæ–¹
```python
# ãƒ•ãƒ¼ãƒªã‚¨å¤‰æ›ã«ã‚ˆã‚‹å‘¨æ³¢æ•°è§£æ
# DFT: X[k] = Î£(n=0 to N-1) x[n] * e^(-j*2Ï€*k*n/N)
fft_result = np.fft.fft(signal)

# ãƒ‘ãƒ¯ãƒ¼ã‚¹ãƒšã‚¯ãƒˆãƒ©ãƒ ã®è¨ˆç®—ï¼ˆæŒ¯å¹…ã®äºŒä¹—ï¼‰
power_spectrum = np.abs(fft_result) ** 2
```

### æ®µéšçš„å®Ÿè£…
è¤‡é›‘ãªå‡¦ç†ã¯æ®µéšçš„ã«å®Ÿè£…ã—ã€å„æ®µéšã§ä½•ã‚’ã—ã¦ã„ã‚‹ã‹ã‚’æ˜ç¢ºã«ã—ã¦ãã ã•ã„ï¼š

```python
# ã‚¹ãƒ†ãƒƒãƒ—1: åŸºæœ¬çš„ãªã‚µã‚¤ãƒ³æ³¢ç”Ÿæˆ
basic_wave = np.sin(2 * np.pi * frequency * time)

# ã‚¹ãƒ†ãƒƒãƒ—2: ã‚¨ãƒ³ãƒ™ãƒ­ãƒ¼ãƒ—ã®é©ç”¨
envelope = self.adsr.generate(duration)
modulated_wave = basic_wave * envelope

# ã‚¹ãƒ†ãƒƒãƒ—3: æœ€çµ‚çš„ãªéŸ³é‡èª¿æ•´
final_wave = modulated_wave * amplitude
```

## ğŸš€ ãƒªãƒªãƒ¼ã‚¹ãƒ—ãƒ­ã‚»ã‚¹

1. ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·ã®æ›´æ–°ï¼ˆ`pyproject.toml`ï¼‰
2. CHANGELOG.md ã®æ›´æ–°
3. ã‚¿ã‚°ã®ä½œæˆ: `git tag v1.x.x`
4. GitHub Release ã®ä½œæˆ

## ğŸ“ è³ªå•ãƒ»ç›¸è«‡

ä¸æ˜ãªç‚¹ãŒã‚ã‚Œã°ã€ãŠæ°—è»½ã« Issue ã‚’ä½œæˆã™ã‚‹ã‹ã€ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³ã§ãŠèããã ã•ã„ã€‚

---

**ã‚ãªãŸã®è²¢çŒ®ãŒéŸ³éŸ¿ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°å­¦ç¿’è€…ã®åŠ©ã‘ã«ãªã‚Šã¾ã™ï¼** ğŸµ
